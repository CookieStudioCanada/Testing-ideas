<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tech Tycoon Turmoil</title>
    <!-- Include Bootstrap CSS and Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
    <style>
        body {
            background-color: #f8f9fa;
            font-family: 'Roboto', sans-serif;
        }
        .container {
            margin-top: 50px;
        }
        .card {
            background-color: #ffffff;
            box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.1);
            border-radius: 10px;
        }
        .card-header {
            background-color: #007bff;
            color: white;
            text-align: center;
        }
        .card-body {
            padding: 20px;
        }
        .status-block {
            background-color: #f1f3f5;
            padding: 20px;
            margin-bottom: 20px;
            border-radius: 8px;
        }
        .actions-block .card {
            margin-top: 10px;
        }
        .events-block {
            margin-top: 20px;
        }
        .category-title {
            font-weight: bold;
            font-size: 1.2em;
            margin-top: 20px;
            color: #007bff;
        }
        .achievement-block {
            margin-top: 20px;
            background-color: #e3f2fd;
            padding: 15px;
            border-radius: 8px;
        }
        .achievement-block p {
            color: #1976d2;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="card">
            <div class="card-header">
                <h1><i class="bi bi-diagram-3"></i> Tech Tycoon Turmoil: Calendar Edition</h1>
            </div>
            <div class="card-body">
                <div id="status" class="status-block"></div>
                <div id="calendar" class="mb-4"></div>

                <div class="category-title"><i class="bi bi-laptop"></i> Work</div>
                <div id="work-actions" class="actions-block row"></div>

                <div class="category-title"><i class="bi bi-house-heart"></i> Family</div>
                <div id="family-actions" class="actions-block row"></div>

                <div class="category-title"><i class="bi bi-music-note-list"></i> Fun</div>
                <div id="fun-actions" class="actions-block row"></div>

                <div class="category-title"><i class="bi bi-lightbulb"></i> Personal/Side Hustle</div>
                <div id="personal-actions" class="actions-block row"></div>

                <div id="events" class="events-block"></div>
                <div id="achievements" class="achievement-block">
                    <h5><i class="bi bi-award"></i> Achievements:</h5>
                    <div id="achievements-list"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Include Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>

    <script>
        class Player {
            constructor(name) {
                this.name = name;
                this.title = "Intern";
                this.salary = 30000;
                this.money = 1000;
                this.burnout = 0;
                this.skills = {
                    coding: 1,
                    networking: 1,
                    buzzwords: 1,
                    leadership: 1
                };
                this.assets = {}; // No assets at the beginning
                this.achievements = [];
                this.jobHistory = ["Intern"];
                this.promotions = 0;
            }

            getFormattedMoney() {
                return `$${this.money.toLocaleString()}`;
            }

            addAchievement(achievement) {
                if (!this.achievements.includes(achievement)) {
                    this.achievements.push(achievement);
                    const achievementsList = document.getElementById("achievements-list");
                    achievementsList.innerHTML += `<p><i class="bi bi-check2-circle"></i> ${achievement}</p>`;
                }
            }

            checkPromotion() {
                if (this.skills.leadership > 10 && this.promotions < 1) {
                    this.title = "Team Lead";
                    this.salary += 20000;
                    this.promotions++;
                    this.addAchievement("Promoted to Team Lead!");
                } else if (this.skills.leadership > 20 && this.promotions < 2) {
                    this.title = "Manager";
                    this.salary += 50000;
                    this.promotions++;
                    this.addAchievement("Promoted to Manager!");
                }
            }

            switchJob() {
                const jobs = ["Software Engineer", "Product Manager", "CTO", "CEO"];
                if (this.promotions >= 2 && this.title !== "CEO") {
                    this.title = jobs[Math.floor(Math.random() * jobs.length)];
                    this.salary += 50000;
                    this.addAchievement(`Switched job to ${this.title}`);
                }
            }
        }

        class Game {
            constructor() {
                this.player = null;
                this.day = 1;
                this.categories = ['Work', 'Family', 'Fun', 'Personal/Side Hustle'];
                this.events = {};
                this.initializeEvents();
            }

            initializeEvents() {
                this.events = {
                    work: [
                        "Finish a major project - coding boost! [High risk/high reward]",
                        "Lead a critical meeting with the CEO. [Risky!]",
                        "Stay late to fix a critical bug - burnout rises.",
                        "Impress your boss with an innovative solution."
                    ],
                    family: [
                        "Take a family vacation - everyone is happy!",
                        "Resolve family conflict - stressful but rewarding.",
                        "Have a relaxing dinner with your family.",
                        "Go to a school event with your child."
                    ],
                    fun: [
                        "Go to a music festival - fun overload!",
                        "Attend a party, but it gets out of hand.",
                        "Have a quiet movie night with friends.",
                        "Attend a local fair and win a prize."
                    ],
                    personal: [
                        "Start a side project that takes off - profit!",
                        "Take a high-risk freelance job for big rewards.",
                        "Learn a new skill that boosts your career.",
                        "Work on a personal app that gains traction."
                    ]
                };
            }

            start(name) {
                this.player = new Player(name);
                this.updateStatus();
                this.updateCalendar();
                this.showDailyChoices();
            }

            updateStatus() {
                const statusDiv = document.getElementById("status");
                statusDiv.innerHTML = `
                    <h4>Week ${this.day} in Silicon Valley</h4>
                    <p><strong>Name:</strong> ${this.player.name}</p>
                    <p><strong>Title:</strong> ${this.player.title}</p>
                    <p><strong>Salary:</strong> $${this.player.salary.toLocaleString()}</p>
                    <p><strong>Money:</strong> ${this.player.getFormattedMoney()}</p>
                    <p><strong>Burnout:</strong> ${this.player.burnout}%</p>
                    <p><strong>Skills:</strong> 
                        Coding: ${this.player.skills.coding}, 
                        Networking: ${this.player.skills.networking}, 
                        Buzzwords: ${this.player.skills.buzzwords}, 
                        Leadership: ${this.player.skills.leadership}</p>
                `;
            }

            updateCalendar() {
                const calendarDiv = document.getElementById("calendar");
                const weekNumber = this.day;
                const year = 2024;
                const firstDayOfYear = new Date(year, 0, 1);
                const oneWeekTime = 1000 * 60 * 60 * 24 * 7;
                const calendarDate = new Date(firstDayOfYear.getTime() + oneWeekTime * (weekNumber - 1));
                const formattedDate = calendarDate.toLocaleDateString("en-US", {
                    year: "numeric", month: "long", day: "numeric"
                });

                calendarDiv.innerHTML = `<p><i class="bi bi-calendar-week"></i> Current Week: ${formattedDate}</p>`;
            }

            showDailyChoices() {
                this.showCategoryActions('work-actions', this.events.work, 'Work');
                this.showCategoryActions('family-actions', this.events.family, 'Family');
                this.showCategoryActions('fun-actions', this.events.fun, 'Fun');
                this.showCategoryActions('personal-actions', this.events.personal, 'Personal/Side Hustle');
            }

            showCategoryActions(elementId, eventArray, category) {
                const actionsDiv = document.getElementById(elementId);
                actionsDiv.innerHTML = '';

                // Show two random events for each category
                const randomEvents = eventArray.sort(() => 0.5 - Math.random()).slice(0, 2);

                randomEvents.forEach((event, index) => {
                    actionsDiv.innerHTML += `
                        <div class="col-md-6">
                            <div class="card">
                                <div class="card-body">
                                    <p>${event}</p>
                                    <button class="btn btn-primary w-100" onclick="game.takeTurn('${category}', '${event}')">Select</button>
                                </div>
                            </div>
                        </div>
                    `;
                });
            }

            takeTurn(category, event) {
                const eventsDiv = document.getElementById("events");
                let eventMessage = `${category} Event: ${event}`;

                // Apply effects based on the event
                if (event.includes("coding boost")) {
                    this.player.skills.coding += 2;
                } else if (event.includes("burnout rises")) {
                    this.player.burnout += 15;
                } else if (event.includes("profit")) {
                    this.player.money += 10000;
                } else if (event.includes("Risky!")) {
                    this.player.burnout += 10;
                    this.player.skills.leadership += 2;
                }

                // Random chance for bonus event
                if (Math.random() < 0.2) {
                    const bonus = "You found a rare item that boosts leadership!";
                    this.player.skills.leadership += 5;
                    eventMessage += ` <strong>Bonus:</strong> ${bonus}`;
                }

                eventsDiv.innerHTML = `<p class="alert alert-info">${eventMessage}</p>`;
                this.player.checkPromotion();
                this.day++;
                this.updateStatus();
                this.updateCalendar();
                this.showDailyChoices();
            }
        }

        const game = new Game();
        game.start(prompt("Enter your name, future tech mogul:"));
    </script>
</body>
</html>